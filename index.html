<!doctype html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Capodanno a Madrid - Hub Viaggio</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
<style>
body {
box-sizing: border-box;
font-family: 'Inter', sans-serif;
}

.card-minimal {
background: white;
border: 1px solid #e5e7eb;
transition: all 0.2s ease;
box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.card-minimal:hover {
transform: translateY(-1px);
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
border-color: #d1d5db;
}

.section-title {
color: #374151;
}

.text-muted {
color: #6b7280;
}
</style>
<style>@view-transition { navigation: auto; }</style>
<script src="/_sdk/data_sdk.js" type="text/javascript"></script>
<script src="/_sdk/element_sdk.js" type="text/javascript"></script>
</head>
<body class="min-h-full" style="background: linear-gradient(to bottom, #f9fafb, #f3f4f6, #e5e7eb);"><!-- Header con immagine -->
<div class="w-full mb-4">
<div class="relative h-48 md:h-64 overflow-hidden"><img src="https://c.pxhere.com/photos/ee/a5/sky_palace_glass_architecture_ceiling_museum_ceilings_real_estate-1117682.jpg!d" alt="Madrid Capodanno" class="w-full h-full object-cover" onerror="this.src=''; this.alt='Immagine non disponibile'; this.style.display='none';">
<div class="absolute inset-0 bg-gradient-to-t from-black/70 to-black/20 flex items-end justify-center pb-6">
<div class="text-center text-white">
<h1 class="text-xl md:text-2xl font-bold mb-1 uppercase tracking-wide">CAPODANNO A MADRID ğŸ‰</h1>
<p class="text-xs opacity-90 uppercase tracking-wide">30 DICEMBRE - 1 GENNAIO 2025</p>
</div>
</div>
</div>
</div>
<div class="container mx-auto px-4 py-4"><!-- Countdown -->
<div class="max-w-md mx-auto mb-6">
<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
<p class="text-sm text-center text-gray-700 mb-3 font-medium">Partenza tra:</p>
<div class="flex justify-center space-x-3">
<div class="text-center">
<div id="days" class="text-2xl font-bold text-gray-900">
00
</div>
<div class="text-xs text-gray-600 uppercase tracking-wide">
Giorni
</div>
</div>
<div class="text-center">
<div id="hours" class="text-2xl font-bold text-gray-900">
00
</div>
<div class="text-xs text-gray-600 uppercase tracking-wide">
Ore
</div>
</div>
<div class="text-center">
<div id="minutes" class="text-2xl font-bold text-gray-900">
00
</div>
<div class="text-xs text-gray-600 uppercase tracking-wide">
Min
</div>
</div>
<div class="text-center">
<div id="seconds" class="text-2xl font-bold text-gray-900">
00
</div>
<div class="text-xs text-gray-600 uppercase tracking-wide">
Sec
</div>
</div>
</div>
</div>
</div><!-- Main Grid -->
   <script>
  // Imposta la data di partenza
  const countdownDate = new Date("2025-12-30T00:00:00").getTime();

  function updateCountdown() {
    const now = new Date().getTime();
    const distance = countdownDate - now;

    if (distance < 0) {
      // Countdown terminato
      document.getElementById("days").innerText = "00";
      document.getElementById("hours").innerText = "00";
      document.getElementById("minutes").innerText = "00";
      document.getElementById("seconds").innerText = "00";
      clearInterval(interval);
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").innerText = days.toString().padStart(2, '0');
    document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
    document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
    document.getElementById("seconds").innerText = seconds.toString().padStart(2, '0');
  }

  // Aggiorna ogni secondo
  const interval = setInterval(updateCountdown, 1000);
  updateCountdown(); // chiamata iniziale
</script>
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 max-w-4xl mx-auto mb-6"><!-- Info WeRoad -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('weroad')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸŒ
</div>
<h3 class="text-sm font-medium text-gray-700">INFO WEROAD</h3>
</div>
</div><!-- Itinerario -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('itinerario')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸ—ºï¸
</div>
<h3 class="text-sm font-medium text-gray-700">ITINERARIO</h3>
</div>
</div><!-- Cosa Portare -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('cosa-portare')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸ’
</div>
<h3 class="text-sm font-medium text-gray-700">COSA PORTARE</h3>
</div>
</div><!-- Spese -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('spese')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸ’°
</div>
<h3 class="text-sm font-medium text-gray-700">SPESE</h3>
</div>
</div><!-- Foto -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('foto')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸ“¸
</div>
<h3 class="text-sm font-medium text-gray-700">FOTO</h3>
</div>
</div><!-- Info Utili -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('info-utili')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸ“‹
</div>
<h3 class="text-sm font-medium text-gray-700">INFO UTILI</h3>
</div>
</div><!-- FAQ -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('faq')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
â“
</div>
<h3 class="text-sm font-medium text-gray-700">FAQ</h3>
</div>
</div><!-- Emergency Kit -->
<div class="card-minimal rounded-lg p-4 cursor-pointer" onclick="openSection('emergency')">
<div class="text-center flex flex-col items-center justify-center h-full">
<div class="text-3xl mb-2">
ğŸš¨
</div>
<h3 class="text-sm font-medium text-gray-700">EMERGENCY KIT</h3>
</div>
</div>
</div>
</div><!-- Mappa Google Maps -->
<div class="mb-6 max-w-4xl mx-auto">
<div class="h-64 md:h-80 rounded-lg overflow-hidden shadow-sm"><iframe src="https://www.google.com/maps/d/u/2/embed?mid=18TKOKv39aRHS0WhEHWDU6El-zeM4_Qk&amp;ehbc=2E312F" width="100%" height="100%" style="border:0;" allowfullscreen loading="lazy"> </iframe>
</div>
</div><!-- Link Utili -->
<div class="mb-6">
<div class="grid grid-cols-1 md:grid-cols-3 gap-3 max-w-4xl mx-auto"><a href="https://www.esmadrid.com" target="_blank" rel="noopener noreferrer" class="card-minimal rounded-lg p-4">
<div class="flex items-center"><span class="text-2xl mr-3">ğŸ›ï¸</span>
<div>
<h4 class="font-medium text-gray-700 text-sm">ESMADRID</h4>
<p class="text-xs text-gray-500">Turismo ufficiale</p>
</div>
</div></a> <a href="https://www.weroad.it/viaggi/madrid-weekend-weroadx" target="_blank" rel="noopener noreferrer" class="card-minimal rounded-lg p-4">
<div class="flex items-center"><span class="text-2xl mr-3">ğŸŒ</span>
<div>
<h4 class="font-medium text-gray-700 text-sm">WEROAD</h4>
<p class="text-xs text-gray-500">Il nostro tour</p>
</div>
</div></a> <a href="https://consmadrid.esteri.it" target="_blank" rel="noopener noreferrer" class="card-minimal rounded-lg p-4">
<div class="flex items-center"><span class="text-2xl mr-3">ğŸ‡®ğŸ‡¹</span>
<div>
<h4 class="font-medium text-gray-700 text-sm">CONSOLATO</h4>
<p class="text-xs text-gray-500">Consolato Italia</p>
</div>
</div></a>
</div>
</div>
</div><!-- Modal per le sezioni -->
<div id="modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
<div class="card-minimal rounded-lg max-w-2xl w-full max-h-[90%] overflow-hidden">
<div class="p-4">
<div class="flex justify-between items-center mb-4">
<h2 id="modal-title" class="text-lg font-semibold text-gray-900"></h2><button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</button>
</div>
<div id="modal-content" class="text-gray-600 overflow-y-auto max-h-[70vh] text-sm"><!-- Il contenuto verrÃ  inserito qui -->
</div>
</div>
</div>
</div><!-- Modal per Canva Dettagli Cassa Comune -->
<div id="canva-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
<div class="card-minimal rounded-lg max-w-3xl w-full max-h-[90%] overflow-hidden">
<div class="p-4">
<div class="flex justify-between items-center mb-4">
<h2 class="text-lg font-semibold text-gray-900">ğŸ“Š Dettagli Cassa Comune Madrid</h2><button onclick="closeCanvaModal()" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</button>
</div>
<div class="overflow-y-auto max-h-[75vh]">
<div style="position: relative; width: 100%; height: 0; padding-top: 100.0000%; padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-bottom: 0.9em; overflow: hidden; border-radius: 8px; will-change: transform;"><iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0; margin: 0;" src="https://www.canva.com/design/DAG5CNBegwA/nTzhWr5WpEfthx7V-Blv6A/view?embed" allowfullscreen allow="fullscreen"> </iframe>
</div>
<div class="text-center text-xs text-gray-600"><a href="https://www.canva.com/design/DAG5CNBegwA/nTzhWr5WpEfthx7V-Blv6A/view?utm_content=DAG5CNBegwA&amp;utm_campaign=designshare&amp;utm_medium=embeds&amp;utm_source=link" target="_blank" rel="noopener" class="text-blue-600 hover:underline"> Cassa Comune Madrid - Dettaglio </a> di Sabrina Coco
</div>
</div>
</div>
</div>
</div>
<script>
// Weather API
async function loadWeather() {
try {
const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=40.4168&longitude=-3.7038&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_probability_max&timezone=Europe/Madrid&start_date=2025-12-30&end_date=2026-01-01');
const data = await response.json();

const weatherContainer = document.getElementById('weather-container');
const dates = ['30 Dicembre', '31 Dicembre', '1 Gennaio'];
const emojis = ['ğŸŒ¤ï¸', 'ğŸ‰', 'ğŸŠ'];

let weatherHTML = '';

for (let i = 0; i < 3; i++) {
const tempMax = Math.round(data.daily.temperature_2m_max[i]);
const tempMin = Math.round(data.daily.temperature_2m_min[i]);
const precipitation = data.daily.precipitation_probability_max[i];
const weatherCode = data.daily.weather_code[i];

let weatherIcon = 'â˜€ï¸';
let weatherDesc = 'Soleggiato';

if (weatherCode >= 80) {
weatherIcon = 'ğŸŒ§ï¸';
weatherDesc = 'Pioggia';
} else if (weatherCode >= 71) {
weatherIcon = 'â„ï¸';
weatherDesc = 'Neve';
} else if (weatherCode >= 61) {
weatherIcon = 'ğŸŒ§ï¸';
weatherDesc = 'Pioggia';
} else if (weatherCode >= 51) {
weatherIcon = 'ğŸŒ¦ï¸';
weatherDesc = 'Pioggerella';
} else if (weatherCode >= 3) {
weatherIcon = 'â˜ï¸';
weatherDesc = 'Nuvoloso';
} else if (weatherCode >= 1) {
weatherIcon = 'â›…';
weatherDesc = 'Parz. Nuvoloso';
}

weatherHTML += `
<div class="card-minimal rounded-lg p-4">
<div class="text-center">
<p class="text-xs font-medium text-gray-600 mb-2">${emojis[i]} ${dates[i]}</p>
<div class="text-4xl mb-2">${weatherIcon}</div>
<p class="text-xs text-gray-600 mb-2">${weatherDesc}</p>
<div class="flex justify-center items-center gap-2 mb-1">
<span class="text-lg font-bold text-gray-800">${tempMax}Â°</span>
<span class="text-sm text-gray-500">${tempMin}Â°</span>
</div>
<p class="text-xs text-gray-500">ğŸ’§ ${precipitation}%</p>
</div>
</div>
`;
}

weatherContainer.innerHTML = weatherHTML;
} catch (error) {
console.error('Weather API error:', error);
document.getElementById('weather-container').innerHTML = `
<div class="text-center text-gray-500 col-span-full">
<p class="text-sm">âš ï¸ Impossibile caricare le previsioni meteo</p>
<p class="text-xs mt-1">Previsioni disponibili piÃ¹ vicino alla data</p>
</div>
`;
}
}

// Load weather on page load
loadWeather();

// Countdown Timer
function updateCountdown() {
const targetDate = new Date('2025-12-30T15:00:00').getTime();
const now = new Date().getTime();
const distance = targetDate - now;

if (distance < 0) {
document.getElementById('days').textContent = '00';
document.getElementById('hours').textContent = '00';
document.getElementById('minutes').textContent = '00';
document.getElementById('seconds').textContent = '00';
return;
}

const days = Math.floor(distance / (1000 * 60 * 60 * 24));
const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
const seconds = Math.floor((distance % (1000 * 60)) / 1000);

document.getElementById('days').textContent = String(days).padStart(2, '0');
document.getElementById('hours').textContent = String(hours).padStart(2, '0');
document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
}

// Aggiorna countdown ogni secondo
updateCountdown();
setInterval(updateCountdown, 1000);

const sections = {
'itinerario': {
title: 'ğŸ—ºï¸ Itinerario',
content: `
<div class="space-y-3">
<div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded-lg">
<h4 class="font-medium text-gray-800 mb-2">ğŸ“… Programma Madrid Capodanno 2025</h4>
<p class="text-sm text-gray-700">Tre giorni indimenticabili nella capitale spagnola! ğŸ‰</p>
</div>

<div class="bg-white border-l-4 border-orange-400 p-3 rounded-lg">
<div class="flex items-center mb-2">
<span class="text-2xl mr-2">1ï¸âƒ£</span>
<h4 class="font-medium text-gray-800">LunedÃ¬ 30 Dicembre</h4>
</div>
<div class="space-y-2 text-sm text-gray-700">
<div class="flex items-start">
<span class="mr-2">ğŸ¨</span>
<div>
<strong>Check-in e primo incontro</strong>
<p class="text-xs text-gray-600">Ci conosciamo in hotel e inizia l'avventura!</p>
</div>
</div>
<div class="flex items-start">
<span class="mr-2">ğŸš¶</span>
<div>
<strong>Giro del centro di Madrid</strong>
<p class="text-xs text-gray-600">Plaza Mayor, Puerta del Sol, Palazzo Reale e dintorni</p>
</div>
</div>
<div class="flex items-start">
<span class="mr-2">ğŸ¥˜</span>
<div>
<strong>Paella per cena</strong>
<p class="text-xs text-gray-600">Il piatto spagnolo piÃ¹ iconico tutti insieme!</p>
</div>
</div>
<div class="flex items-start">
<span class="mr-2">ğŸ‰</span>
<div>
<strong>Vita notturna madrilena</strong>
<p class="text-xs text-gray-600">Scopriamo i locali e l'energia della notte di Madrid</p>
</div>
</div>
</div>
</div>

<div class="bg-white border-l-4 border-red-400 p-3 rounded-lg">
<div class="flex items-center mb-2">
<span class="text-2xl mr-2">2ï¸âƒ£</span>
<h4 class="font-medium text-gray-800">MartedÃ¬ 31 Dicembre - CAPODANNO ğŸ‰</h4>
</div>
<div class="space-y-2 text-sm text-gray-700">
<div class="flex items-start">
<span class="mr-2">ğŸ°</span>
<div>
<strong>Escursione a Toledo</strong>
<p class="text-xs text-gray-600">La cittÃ  delle tre culture, patrimonio UNESCO</p>
</div>
</div>
<div class="flex items-start">
<span class="mr-2">ğŸ”™</span>
<div>
<strong>Rientro in hotel nel pomeriggio</strong>
<p class="text-xs text-gray-600">Tempo per prepararsi per la grande notte!</p>
</div>
</div>
<div class="flex items-start">
<span class="mr-2">ğŸ’ƒ</span>
<div>
<strong>Spettacolo di flamenco</strong>
